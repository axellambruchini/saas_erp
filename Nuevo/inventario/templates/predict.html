{% extends "base.html" %}
{% block content %}
<h1 class="text-xl font-bold mb-3">IA Predictiva (Archivo externo)</h1>

<form method="post" enctype="multipart/form-data" class="mb-4">
  {% csrf_token %}
  {{ form.as_p }}
  <button type="submit">Cargar y predecir</button>
</form>

{% if error %}
  <p class="text-red-600">{{ error }}</p>
{% endif %}

{% if fechas and valores %}
  <canvas id="chart"></canvas>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const ctx = document.getElementById("chart").getContext("2d");
    new Chart(ctx, {
      type: "line",
      data: {
        labels: {{ fechas|safe }},
        datasets: [{
          label: "Predicci√≥n",
          data: {{ valores|safe }},
          borderColor: "blue",
          fill: false
        }]
      }
    });
  </script>
{% endif %}
{% endblock %}
